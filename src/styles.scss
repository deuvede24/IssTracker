/* You can add global styles to this file, and also import other style files */

/* === RESET Y BASE === */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: linear-gradient(135deg, #0a192f, #1e3a8a);
  color: white;
  overflow-x: hidden;
}

/* === ESTILOS ESPECÍFICOS DEL MAPA (conservados) === */
app-map .mobile-map-container .map-legend {
  background: linear-gradient(135deg, #14249c, #3B4FBA) !important;
}

app-map .mobile-header {
  background: linear-gradient(135deg, #14249c, #3B4FBA) !important;
}

/* app-map .flight-control {
  background: linear-gradient(135deg, #2D3E99, #3B4FBA) !important;
  border-top: 1px solid rgba(100, 255, 218, 0.2) !important;
} */

app-map .mobile-pass-info {
  background: linear-gradient(135deg, #2D3E99, #14249c) !important;
}

/* === VIEWPORT HEIGHTS MEJORADOS === */
/*.simple-home,
.mobile-map-page,
.simple-map, 
.iss-page,           
.alerts-page {
  min-height: 100vh;
  min-height: 100svh;
  min-height: 100dvh; 
  min-height: -webkit-fill-available;

}*/


/* === VARIABLES VIEWPORT DINÁMICAS === */
:root {
  --real-vh: 1vh;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}


/* === BOTTOM NAV SAFE AREA === */
.app-bottom-nav,
app-bottom-nav,
.bottom-nav,
/*bottom-nav {
  padding-bottom: env(safe-area-inset-bottom);
}*/
bottom-nav {
  position: fixed !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  z-index: 1001 !important;
  height: 80px !important;
  padding-bottom: var(--safe-bottom) !important;
}

/* === LOCATION REQUIRED STATE === */
body.location-required .bottom-nav .nav-item:not([href*="/home"]) {
  opacity: 0.4;
  pointer-events: none;
}

/* === ANIMACIONES GLOBALES (nuevas) === */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes pulse {

  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }

  50% {
    transform: scale(1.1);
    opacity: 0.7;
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.spinning {
  animation: spin 1s linear infinite;
}

/* Desbloquear scroll global */
html, body {
  height: auto !important;
  min-height: 100% !important;
  overflow-y: auto !important;
}

/* Asegurar que ningún wrapper lo “fije” */
app-root, app-component, .app-shell, .app-container, main {
  position: static !important;
  height: auto !important;
  overflow: visible !important;
}

/* ===== PWA standalone fixes: viewport & scroll ===== */
@media (display-mode: standalone), (display-mode: window-controls-overlay) {
  :root {
    --safe-top: env(safe-area-inset-top, 0px);
    --safe-bottom: env(safe-area-inset-bottom, 0px);
    --tabbar-h: 80px;     /* tu bottom nav fijo */
    --header-min: 56px;   /* min-height de .mobile-header */
  }

  /* En app instalada no queremos "scroll fantasma" del body */
  html, body {
    height: 100dvh !important;    /* viewport real en móviles modernos */
    overflow: hidden !important;  /* evita la franja azul y el corte de abajo */
  }

  /* El header suma la zona segura superior si existe */
  .mobile-header {
    padding-top: max(var(--safe-top), 0.75rem) !important;
    min-height: calc(var(--header-min) + var(--safe-top)) !important;
  }

  /* La página de mapa ocupa exactamente la altura visible menos la tabbar */
  .mobile-map-page {
    /* 100dvh = altura real del dispositivo
       restamos la tabbar y la safe-area inferior si la hay */
    height: calc(100dvh - (var(--tabbar-h) + var(--safe-bottom))) !important;
  }
}