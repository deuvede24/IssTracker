<!-- INICIO - LA APP MAS SIMPLE DEL MUNDO -->
<div class="simple-home">

  <!-- HEADER simple y claro -->
  <div class="simple-header">
    <div class="location-badge">{{ locationBadge() }}</div>
    <div class="app-icon">🛰️</div>
    <h1>ISS Tracker</h1>
    <p class="tagline">See the Space Station pass overhead</p>
  </div>

  <!-- EXPLICACIÓN SÚPER SIMPLE -->
  <div class="what-is-iss">
    <div class="iss-explanation">
      <div class="iss-visual">
        <div class="iss-icon">🛰️</div>
        <div class="movement-line"></div>
      </div>
      <div class="explanation-text">
        <h2>What is the ISS?</h2>
        <p>It's a space station orbiting Earth. <strong>You can see it pass overhead like a bright star!</strong></p>
        <p>We'll tell you when, where to look, and which path it will take.</p>
      </div>
    </div>
  </div>

  <!-- DISTANCIA ACTUAL de la ISS -->
  <div class="iss-distance-now">
    <div class="distance-card">
      <div class="distance-icon">📍</div>
      <div class="distance-info">
        <h3>ISS right now</h3>
        <div class="distance-big">{{ currentDistance() }} km</div>
        <p>{{ distanceDescription() }}</p>
        <!---   <div class="iss-direction-visual">
        <span class="iss-satellite">🛰️</span>
        
        <div class="direction-info">
          <div class="direction-line"></div>
          <div class="direction-text">
            {{ directionIcon() }} {{ issDirection().cardinal }}
          </div>
          <div class="movement-status">{{ issMovement() }}</div>
        </div>
        
        <span class="you-location">📍 You</span>
      </div>-->
        <button class="view-details-btn" (click)="showISSNow()">
          View details
        </button>
      </div>
    </div>
  </div>

  <!-- PRÓXIMOS PASES (clickeables) -->
  <div class="next-passes-simple">
    <h2>🗓️ When you'll see it</h2>

    <!-- 👇 Aviso sutil si lo que ves viene de caché -->
    @if (usingCache() && visiblePasses().length > 0) {

    <div class="status-note" aria-live="polite">
      Showing last known passes (cached)
    </div>
    }

    <!-- 👇 Estado vacío con Retry si, tras el intento, no hay nada que mostrar -->
    @if (isEmpty()) {
    <div class="empty-state">
      <p>We couldn’t calculate passes right now.</p>
      <button class="retry-btn" (click)="retry()">Retry</button>
    </div>
    }

    @for (pass of visiblePasses(); track pass.id; let i = $index) {
    <div class="pass-card-simple" [class.night-pass]="isNightTime(pass.time)" [class.day-pass]="!isNightTime(pass.time)"
      (click)="goToMapWithPass(pass)" [class.next-pass]="i === 0">

      @if (i === 0) {
      <div class="next-badge">NEXT</div>
      }

      <div class="pass-time-simple">
        <div class="day">{{ pass.time | date:'EEEE, MMM d' }}</div>
        <div class="time">{{ pass.time | date:'HH:mm' }}</div>
      </div>

      <div class="pass-description-simple">
        <div class="pass-route-visual">
          <span class="appear-point">🟢 {{ pass.from }}</span>
          <div class="pass-arrow">→</div>
          <span class="disappear-point">🔴 {{ pass.to }}</span>
        </div>

        <div class="pass-elevation-human">🏔️ {{ pass.altitude }}</div>

        @if (isNightTime(pass.time)) {
        <div class="pass-duration-simple">{{ pass.duration }} minutes visible</div>
        }

        <div class="brightness-simple">{{ pass.brightness }}</div>
      </div>

      <div class="see-on-map-hint">
        <i class="bi bi-map-fill"></i>
        <span>See on map</span>
        <i class="bi bi-arrow-right"></i>
      </div>

    </div>
    }
  </div>

  <!-- BOTÓN GRANDE para ir al mapa -->
  <div class="map-cta">
    <button class="big-map-button" (click)="goToMap()">
      <i class="bi bi-map-fill"></i>
      <span>See full map</span>
      <small>Explore complete trajectory</small>
    </button>
  </div>

  <!-- CONFIGURACIÓN SIMPLE -->
  <div class="simple-settings">
    <button class="setting-item" (click)="addHomeLocation()">
      <i class="bi bi-house"></i>
      <span>Add my home</span>
      <small>See when it passes over your house</small>
    </button>

    <!--  <button class="setting-item" (click)="toggleNotifications()">
      <i class="bi bi-bell"></i>
      <span>Alerts</span>
      <small>Notify 15 min before</small>
    </button>-->


    <button class="setting-item" (click)="toggleNotifications()" [class.notifications-enabled]="notificationsEnabled()">
      <i [class]="notificationsEnabled() ? 'bi bi-bell-fill' : 'bi bi-bell'"></i>
      <span>{{ notificationsEnabled() ? "Alerts ON" : "Enable Alerts" }}</span>
      <small>
        {{ notificationsEnabled()
        ? "You’ll be notified before each pass"
        : "Get notified before visible passes" }}
      </small>
    </button>

  </div>

</div>